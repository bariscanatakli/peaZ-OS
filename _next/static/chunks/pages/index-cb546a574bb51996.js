(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7512)}])},7512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Z});var i=n(4848),s=n(6540),r=n(1468),l=n(7360),o=n(1928),a=n(9410),c=n(2405),d=n(223),m=n(9640),u=n(2571),h=n(2920);let p=(0,d.Wp)({apiKey:"AIzaSyDNxQqCgDqgKwqlr6CD236mZ7yFNzv8OMc",authDomain:"peaz-os.firebaseapp.com",projectId:"peaz-os",storageBucket:"peaz-os.firebasestorage.app",messagingSenderId:"1072881959988",appId:"1:1072881959988:web:3432093b67245713443661"}),f=(0,c.aU)(p),g=(0,m.xI)(p);(0,u.Uz)(p),(0,m.oM)(g,m.F0).then(()=>{console.log("Auth persistence enabled")}).catch(e=>{console.error("Error setting auth persistence:",e)}),(0,m.hg)(g,async e=>{if(e)try{let t=(await e.getIdTokenResult()).claims.role||"guest",n=h.A.getState();n.terminals&&n.terminals.terminals&&n.terminals.terminals.forEach(e=>{h.A.dispatch((0,a.L4)({terminalId:e.id,role:t}))})}catch(e){console.error("Error updating roles:",e)}else try{await (0,m.zK)(g)}catch(e){console.error("Anonymous sign-in error:",e)}});let x=async e=>{try{if(!e||!e["~"])throw Error("Invalid file system structure");let t=JSON.parse(JSON.stringify(e));return await (0,c.BN)((0,c.H9)(f,"fileSystems","default"),t),t}catch(e){throw console.error("Error saving to Firestore:",e),e}},j=async()=>{try{let e=(0,c.H9)(f,"fileSystems","default"),t=await (0,c.x7)(e);if(t.exists()){let e=t.data();if(!e||!e["~"])throw Error("Invalid file system data");return e}return null}catch(e){return console.error("Error fetching file system:",e),null}},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";if(!t||!e)return null;let n=t.split("/").filter(Boolean),i=e["~"];for(let e of n){if(".."===e){n.pop();continue}if(!i||!i.content||!i.content[e])return null;i=i.content[e]}return i},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";if("string"!=typeof t)return console.error("resolvePath: targetPath is not a string",t),e;if("string"!=typeof e&&(console.error("resolvePath: path is not a string",e),e="/"),t.startsWith("/"))return t;let n=e.split("/").filter(Boolean);for(let e of t.split("/").filter(Boolean))".."===e?n.pop():"."!==e&&n.push(e);return"/"+n.join("/")},v=e=>{let{id:t}=e,n=(0,r.wA)(),c=(0,r.d4)(e=>e.terminals.terminals.find(e=>e.id===t)),d=(0,r.d4)(e=>e.terminals.fileSystem),m=null==c?void 0:c.editingFile,u=null==m?void 0:m.split("/").pop(),h=null==c?void 0:c.fileContent,[p,f]=(0,s.useState)("string"==typeof h?h:"object"==typeof h?JSON.stringify(h,null,2):""),g=async()=>{if(!m){console.error("No file being edited");return}try{if(!d||!d["~"])throw Error("File system not initialized");let e=JSON.parse(JSON.stringify(d)),i=(m.startsWith("/")?m.substring(1):m).split("/"),s=i.pop(),r=i.join("/")||"/",l=y(e,r);if(!l)throw Error("Directory ".concat(r," not found"));l.content||(l.content={}),l.content[s]||(l.content[s]={type:"file",content:""}),l.content[s].content=p,n((0,a.QZ)({fileSystem:e})),await x(e),n((0,a.vJ)({terminalId:t,isEditing:!1})),n((0,a.Hk)({terminalId:t,editingFile:null})),n((0,a.ge)({terminalId:t,content:""}))}catch(e){console.error("Save error:",e),alert("Error saving file: ".concat(e.message))}};(0,s.useEffect)(()=>{f("string"==typeof h?h:"object"==typeof h?JSON.stringify(h,null,2):"")},[h]);let j=s.useCallback(e=>{f(e)},[]);return(0,i.jsx)("div",{className:"editor-overlay",children:(0,i.jsxs)("div",{className:"editor-container",children:[(0,i.jsxs)("div",{className:"editor-header",children:[(0,i.jsxs)("span",{children:["Editing: ",u]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("button",{onClick:()=>{n((0,a.vJ)({terminalId:t,isEditing:!1})),n((0,a.Hk)({terminalId:t,editingFile:null})),n((0,a.ge)({terminalId:t,content:""}))},children:"Cancel"}),(0,i.jsx)("button",{onClick:g,children:"Save"})]})]}),(0,i.jsx)(l.Ay,{value:p||"",height:"400px",theme:"dark",extensions:[(0,o.wD)()],onChange:j})]})})};var N=n(8221);let b=function(e){let{children:t,id:n}=e,l=(0,r.wA)(),o=(0,s.useRef)(null),c=(0,s.useRef)(null),d=(0,r.d4)(e=>{var t,i;return null===(i=e.terminals.terminals.find(e=>e.id===n))||void 0===i?void 0:null===(t=i.refs)||void 0===t?void 0:t.input}),{zIndex:m,isMinimized:u,isMaximized:h,position:p,dimensions:f,activeTerminalId:g}=(0,r.d4)(e=>e.terminals.terminals.find(e=>e.id===n)),x=(0,s.useCallback)(N((e,t)=>{let i=c.current;i&&i.width===e&&i.height===t||(l((0,a.Y_)({terminalId:n,dimensions:{width:e,height:t}})),c.current={width:e,height:t})},100),[l,n]);return(0,s.useEffect)(()=>{if(!o.current)return;let e=new ResizeObserver(e=>{let t=e[0];if(t){let{width:e,height:n}=t.contentRect;x(e,n)}});return e.observe(o.current),()=>{e.disconnect(),x.cancel()}},[x]),(0,i.jsx)("div",{ref:o,tabIndex:-1,className:"terminal-container ".concat(u?"minimized":""," \n               ").concat(h?"maximized":""," \n               ").concat(g===n?"active":""),style:{top:"".concat(p.y,"px"),left:"".concat(p.x,"px"),zIndex:m,width:"".concat(f.width,"px"),height:"".concat(f.height,"px")},onClick:()=>{l((0,a.R0)(n)),l((0,a.Q3)(n)),d&&d.focus()},children:t})},k=function(e){let{id:t}=e,n=(0,r.wA)(),{isMaximized:l=!1,isDragging:o=!1,offset:c={x:0,y:0},refs:d={},isResizing:m=!1,resizeDirection:u="",dimensions:h,isMinimized:p=!1,position:f={}}=(0,r.d4)(e=>e.terminals.terminals.find(e=>e.id===t))||{},g=()=>{n((0,a.NT)({terminalId:t,isMaximized:!l}))},x=(0,s.useCallback)(()=>{n((0,a.x2)(t)),n((0,a.Q3)(t))},[n,t,p]);return(0,s.useEffect)(()=>{let e=e=>{if(o){var i;let s=e.clientX-c.x,r=e.clientY-c.y,l=window.innerWidth,o=window.innerHeight,d=(null===(i=document.querySelector(".taskbar"))||void 0===i?void 0:i.offsetHeight)||0,m=h.width/2+4,u=h.height/2+4,p=l-h.width/2-4,f=o-h.height/2-d-4,g=Math.max(m,Math.min(p,s)),x=Math.max(u,Math.min(f,r));n((0,a.Kk)({terminalId:t,position:{x:g,y:x}}))}},i=()=>{n((0,a.Q4)({terminalId:t,isDragging:!1})),n((0,a.yY)({terminalId:t,isResizing:!1})),n((0,a.UT)({terminalId:t,resizeDirection:""}))};return(o||m)&&(window.addEventListener("mousemove",e),window.addEventListener("mouseup",i)),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",i)}},[o,m,c,f.x,f.y,h,u]),(0,i.jsxs)("div",{className:"terminal-header",onMouseDown:e=>{e.preventDefault(),f&&(n((0,a.R0)(t)),n((0,a.Q4)({terminalId:t,isDragging:!0})),n((0,a.sf)({terminalId:t,offset:{x:e.clientX-f.x,y:e.clientY-f.y}})))},onDoubleClick:g,children:[(0,i.jsxs)("span",{children:["Terminal ",t]}),(0,i.jsxs)("div",{className:"window-controls",children:[(0,i.jsx)("button",{className:"control-button minimize",onClick:e=>{e.stopPropagation(),x()},children:"–"}),(0,i.jsx)("button",{className:"control-button maximize",onClick:g,children:l?"\uD83D\uDDD7":"▢"}),(0,i.jsx)("button",{className:"control-button close",onClick:()=>{n((0,a.Zm)(t))},children:"\xd7"})]})]})},I=[".","..",".git","node_modules"],C=(e,t,n)=>{if("admin"===n)return!0;if("dummyadmin"===n){let e=t.startsWith("/")?t:"/".concat(t);return e.includes("/public/")||"/public"===e}return!0},E=e=>["touch","mkdir","rm","edit"].includes(e),D=(e,t,n,i,s)=>{if(E(e)&&"admin"!==s){if("dummyadmin"!==s)return"".concat(e,": Permission denied");if(!C(n,t[0]?w(i,t[0]):i,s))return"".concat(e,": Permission denied - dummyadmin can only modify /public directory")}return null},S={ls:(e,t,n,i,s,r)=>{if(!t||!t["~"])return"ls: file system not initialized";let l=e[0]||n||"/",o=y(t,l);if(!o||"dir"!==o.type)return"ls: cannot access '".concat(l,"': No such directory");let a=Object.keys(o.content).filter(e=>"admin"===s||!I.includes(e));return a.length>0?a.join("  "):""},cd:(e,t,n,i,s,r)=>{if(0===e.length)return"cd: missing operand";let l=e[0],o=w(n,l),c=y(t,o);return c&&"dir"===c.type?(i((0,a.SO)({terminalId:r.id,path:o})),"Changed directory to ".concat(o)):"cd: no such file or directory: ".concat(l)},mkdir:async(e,t,n,i,s,r)=>{let l=D("mkdir",e,t,n,s);if(l)return l;if(0===e.length)return"mkdir: missing operand";let o=e[0],c=JSON.parse(JSON.stringify(t)),d=y(c,n);return d?(d.content[o]={type:"dir",content:{}},i((0,a.QZ)({fileSystem:c})),await x(c),"Directory '".concat(o,"' created successfully")):"mkdir: cannot create directory '".concat(o,"': No such directory")},touch:async(e,t,n,i,s,r)=>{let l=D("touch",e,t,n,s);if(l)return l;if(0===e.length)return"touch: missing file operand";let o=e[0];if(!y(t,n))return"touch: cannot create file '".concat(o,"': No such directory");let c=JSON.parse(JSON.stringify(t)),d=y(c,n);return d.content[o]||(d.content[o]={type:"file",content:""},i((0,a.QZ)({fileSystem:c})),await x(c)),"File '".concat(o,"' created successfully")},rm:async(e,t,n,i,s)=>{let r=D("rm",e,t,n,s);if(r)return r;if(0===e.length)return"rm: missing operand";let l=e[0],o=e.includes("-r")||e.includes("-R");if(!y(t,n))return"rm: cannot remove '".concat(l,"': No such directory");let c=JSON.parse(JSON.stringify(t)),d=y(c,n);if(!d.content[l])return"rm: cannot remove '".concat(l,"': No such file or directory");if("dir"===d.content[l].type){let e=0===Object.keys(d.content[l].content).length;if(!o&&!e)return"rm: cannot remove '".concat(l,"': Directory not empty (use -r flag)")}return delete d.content[l],i((0,a.QZ)({fileSystem:c})),await x(c),"'".concat(l,"' removed successfully")},cat:(e,t,n)=>{if(0===e.length)return"cat: missing file operand";let i=e[0],s=y(t,n);if(!s||"dir"!==s.type)return"cat: ".concat(i,": No such directory");let r=s.content[i];return r?"file"!==r.type?"cat: ".concat(i,": Is a directory"):r.content||"":"cat: ".concat(i,": No such file")},edit:async(e,t,n,i,s,r)=>{if(!r||!r.id)return"edit: terminal state not initialized";let l=D("edit",e,t,n,s);if(l)return l;if(0===e.length)return"edit: missing file operand";let o=e[0],c=w(n,o),d=y(t,c);if(!d)return"edit: cannot find '".concat(o,"'");if("file"!==d.type)return"edit: '".concat(o,"' is not a file");try{return i((0,a.Hk)({terminalId:r.id,editingFile:c})),i((0,a.ge)({terminalId:r.id,content:d.content})),i((0,a.vJ)({terminalId:r.id,isEditing:!0})),null}catch(e){return console.error("Edit error:",e),"edit: failed to open file"}},authenticate:async(e,t,n,i,s,r)=>{let[l,o]=e;if(!l||!o)return"Usage: authenticate <email> <password>";try{await (0,m.x9)(g,l,o);let e=await g.currentUser.getIdTokenResult();return i((0,a.L4)(e.claims.role||"guest")),i((0,a.n9)("Logged in as ".concat(e.claims.role||"guest","."))),null}catch(e){return console.error("Authentication error:",e),"Authentication failed."}},login:async(e,t,n,i,s,r)=>{if(2!==e.length)return"Usage: login <username> <password>";let[l,o]=e;try{let e=await (0,m.x9)(g,l,o),t=await e.user.getIdTokenResult(),n=l.split("@")[0],s=t.claims.role||"guest";return"dummyadmin"===n?i((0,a.L4)({terminalId:r.id,role:"dummyadmin"})):(i((0,a.L4)({terminalId:r.id,role:s})),i((0,a.P)({terminalId:r.id,username:n}))),i((0,a.n9)({terminalId:r.id,output:"Welcome ".concat(n,". Logged in as ").concat("dummyadmin"===n?"dumymadmin":s,".")})),null}catch(e){return console.error("Login error:",e),"Login failed: ".concat(e.message)}},sudo:(e,t,n,i,s,r)=>"Not implemented yet.",su:(e,t,n,i,s)=>"Not implemented yet.",verifyPassword:async e=>"Not implemented yet.",logout:(e,t,n,i,s,r)=>"guest"===s?"logout: No active user":(i((0,a.L4)({terminalId:r.id,role:"guest"})),i((0,a.P)({terminalId:r.id,username:null})),"Logged out. Switched to guest user."),whoami:(e,t,n,i,s,r)=>"Username:".concat(r.username||"guest",", Role:").concat(s),chmod:async(e,t,n,i,s)=>"Not implemented yet.",show:(e,t,n,i,s,r)=>{if(0===e.length)return"show: missing file operand";let l=e[0],o=y(t,n);if(!o||"dir"!==o.type)return"show: ".concat(l,": No such directory");let c=o.content[l];if(!c)return"show: ".concat(l,": No such file");if("file"!==c.type)return"show: ".concat(l,": Is a directory");let d="string"==typeof c.content?c.content:JSON.stringify(c.content),m={id:Date.now(),zIndex:1e3,isMinimized:!1,position:{x:window.innerWidth/2+50,y:window.innerHeight/2+50},content:d,path:n,role:"guest",input:"",output:[],history:[],historyIndex:-1,isEditing:!1,editingFile:null,fileContent:null};return i((0,a.Wk)(m)),"Opening ".concat(l," in new window...")},clear:(e,t,n,i,s,r)=>(i((0,a.re)({terminalId:r.id})),null),pwd:(e,t,n)=>n,echo:e=>e.join(" "),history:(e,t,n,i,s,r)=>{let l=(null==r?void 0:r.history)||[];return l.length?l.map((e,t)=>"".concat(t+1,"  ").concat(e)).join("\n"):"No commands in history"},help:()=>"Available commands:\nls - list directory contents\ncd - change directory\nmkdir - create a new directory\ntouch - create a new file\nrm - remove files or directories\ncat - display file contents\nedit - edit file contents\nsudo su - switch to admin user\nlogout - switch back to guest user\nclear - clear terminal screen\npwd - print working directory\necho - display a line of text\nhistory - show command history\nhelp - display this help message\n",exit:(e,t,n,i,s)=>"admin"===s?(i((0,a.L4)({terminalId:state.id,role:"guest"})),"Logged out from root"):(i(removeTerminal(state.id)),null)},z=(e,t,n)=>{if(!n)return;let{input:i="",history:s=[],historyIndex:r=-1,path:l="/",fileSystem:o=null,isAwaitingPassword:c,passwordType:d,lastSudoCommand:m,role:u}=n;switch(e.key){case"Enter":if(c){e.preventDefault(),"adminpass"===i.trim()?(t((0,a.L4)({terminalId:n.id,role:"admin"})),t((0,a.n9)("Root access granted."))):t((0,a.n9)("Authentication failure")),t((0,a.Oe)({terminalId:n.id,awaiting:!1,type:null,command:null})),t((0,a.zF)({terminalId:n.id,input:""}));return}i.trim()&&(L(i.trim(),t,n),t((0,a.Al)({terminalId:n.id,command:i.trim()})),t((0,a.pN)({terminalId:n.id,historyIndex:-1})),t((0,a.zF)({terminalId:n.id,input:""})));break;case"ArrowUp":if(e.preventDefault(),!s.length)return;let h=-1===r?s.length-1:Math.max(0,r-1);t((0,a.pN)({terminalId:n.id,historyIndex:h})),t((0,a.zF)({terminalId:n.id,input:s[h]}));break;case"ArrowDown":if(e.preventDefault(),0===s.length||-1===r)return;let p=r+1;p<s.length?(t((0,a.pN)({terminalId:n.id,historyIndex:p})),t((0,a.zF)({terminalId:n.id,input:s[p]}))):(t((0,a.pN)({terminalId:n.id,historyIndex:-1})),t((0,a.zF)({terminalId:n.id,input:""})));break;case"Tab":e.preventDefault();let f=i.split(" "),g=f[f.length-1],x=[];if(1===f.length)x=Object.keys(S).filter(e=>e.startsWith(g));else if(o){let e=y(o,l);e&&"dir"===e.type&&(x=Object.keys(e.content).filter(e=>e.startsWith(g)))}1===x.length?(f[f.length-1]=x[0],t((0,a.zF)({terminalId:n.id,input:f.join(" ")+" "}))):x.length>0&&t((0,a.n9)({terminalId:n.id,output:"\n".concat(x.join("  "),"\n")}))}},L=async(e,t,n)=>{if(!e)return;let i=e.split(" "),s=i.shift().toLowerCase();if(t((0,a.n9)({terminalId:n.id,output:"".concat(O(n.path,n.role,n.username)).concat(e)})),!S[s]){t((0,a.n9)({terminalId:n.id,output:"command not found: ".concat(s)}));return}try{let e=await S[s](i,n.fileSystem,n.path,t,n.role,n);e&&t((0,a.n9)({terminalId:n.id,output:e}))}catch(e){console.error("Error executing ".concat(s,":"),e),t((0,a.n9)({terminalId:n.id,output:"Error: ".concat(e.message)}))}},O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"guest";return"".concat(t,"@peaZ-OS:").concat(e).concat("/"===e?"":"/"," ")},A=function(e){let{id:t}=e,n=(0,r.wA)(),l=(0,r.d4)(e=>e.terminals.terminals.find(e=>e.id===t)),{role:o,input:c,path:d}=l,m=(0,s.useCallback)(e=>{null!==e&&n((0,a.y$)({terminalId:t,ref:e}))},[n,t]);return(0,i.jsxs)("div",{className:"input-line",children:[(0,i.jsx)("span",{className:"prompt",children:O(d,o)}),(0,i.jsx)("input",{ref:m,type:"text",value:c,onChange:e=>n((0,a.zF)({terminalId:t,input:e.target.value})),onKeyDown:e=>z(e,n,l),className:"terminal-input"})]})},R=function(e){let{output:t,path:n,role:r}=e,l=(0,s.useRef)(null),o=()=>{l.current&&l.current.lastElementChild&&l.current.lastElementChild.scrollIntoView({behavior:"smooth"})};return(0,s.useLayoutEffect)(()=>{o()},[t]),(0,i.jsx)("div",{className:"terminal-output",ref:l,children:t.map((e,t)=>"string"==typeof e&&e.startsWith(O(n,r)+" $")?(0,i.jsxs)("div",{className:"output-line",children:[(0,i.jsxs)("span",{className:"prompt",children:[O(n,r)," $ "]}),(0,i.jsx)("span",{className:"command",children:e.slice((O(n,r)+" $ ").length)})]},t):(0,i.jsx)("div",{className:"output-line",children:(0,i.jsx)("span",{className:"output",children:e})},t))})},T=function(e){let{id:t}=e,n=(0,r.wA)(),l=(0,r.d4)(e=>e.terminals.terminals),o=(0,s.useRef)(l);(0,s.useEffect)(()=>{o.current=l},[l]),(0,s.useEffect)(()=>{let e=async e=>{if("CREATE_TERMINAL"===e.data.type)try{var t,i,s,r;let l=await j(),c=null==l?void 0:null===(r=l["~"])||void 0===r?void 0:null===(s=r.content)||void 0===s?void 0:null===(i=s.projects)||void 0===i?void 0:null===(t=i.content[e.data.path])||void 0===t?void 0:t.content;if(!o.current.find(t=>t.path===e.data.path)&&c){let t=Date.now();n((0,a.Wk)({id:t,path:e.data.path,project:e.data.project,content:c}))}}catch(e){console.error("Failed to load project:",e)}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[n]);let c=(0,r.d4)(e=>e.terminals.terminals.find(e=>e.id===t)),{content:d}=c;return(0,i.jsx)("div",{className:"terminal",children:d?(0,i.jsx)("iframe",{srcDoc:d,style:{width:"100%",height:"100%",border:"none"}}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R,{id:t,output:c.output,path:c.path}),(0,i.jsx)(A,{id:t})]})})},M=e=>{let{id:t}=e,n=(0,r.wA)(),l=(0,r.d4)(e=>e.terminals.terminals.find(e=>e.id===t)),{isEditing:o,fileSystem:c,path:d}=l;return(0,s.useEffect)(()=>{l&&(0,a.SO)({terminalId:t,path:d||"/"})},[l]),(0,s.useEffect)(()=>{(async()=>{try{let e=await j();if(e)n((0,a.QZ)({fileSystem:e}));else{let e={"~":{type:"dir",content:{"welcome.txt":{type:"file",content:"Welcome to the terminal!"}}}};n((0,a.QZ)({fileSystem:e})),await x(e)}n((0,a.SO)({terminalId:t,path:d||"/"}))}catch(e){console.error("Error initializing filesystem:",e)}})()},[]),(0,s.useEffect)(()=>{(async()=>{c&&await x(c)})()},[c]),(0,s.useEffect)(()=>{let e=(0,m.hg)(g,async e=>{if(e)try{await e.getIdToken(!0);let t=await e.getIdTokenResult();n((0,a.L4)(t.claims.role||"guest")),n((0,a.RJ)(e.uid)),n((0,a.n9)("Logged in as ".concat(t.claims.role||"guest",".")))}catch(e){n((0,a.n9)("Error refreshing token. Defaulting to guest."))}else n((0,a.RJ)(null)),n((0,a.L4)("guest")),n((0,a.n9)("No user is signed in. Operating as guest."))});return()=>e()},[n]),(0,s.useEffect)(()=>{c&&x(c)},[c]),(0,i.jsxs)(i.Fragment,{children:[o&&(0,i.jsx)(v,{id:t}),(0,i.jsxs)(b,{id:t,children:[(0,i.jsx)(k,{id:t}),(0,i.jsx)(T,{id:t})]})]})};var P=n(961);let F=e=>{let{id:t,onClose:n}=e,s=(0,r.d4)(e=>e.terminals.terminals.find(e=>e.id===t));return s?(0,i.jsx)("div",{className:"terminal-info-modal-custom",children:(0,i.jsxs)("div",{className:"terminal-info-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h3",{children:"Terminal Info"}),(0,i.jsx)("button",{onClick:n,children:"\xd7"})]}),(0,i.jsx)("div",{className:"modal-body",children:(0,i.jsxs)("div",{className:"info-grid",children:[(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"ID:"}),(0,i.jsx)("span",{children:s.id})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"Path:"}),(0,i.jsx)("span",{children:s.path})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"Role:"}),(0,i.jsx)("span",{children:s.role})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"Position:"}),(0,i.jsx)("span",{children:s.position?"(".concat(s.position.x,", ").concat(s.position.y,")"):"N/A"})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"Dimensions:"}),(0,i.jsx)("span",{children:s.dimensions?"".concat(s.dimensions.width," x ").concat(s.dimensions.height):"N/A"})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"Minimized:"}),(0,i.jsx)("span",{children:s.isMinimized?"Yes":"No"})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"Editing:"}),(0,i.jsx)("span",{children:s.isEditing?"Yes":"No"})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"Input:"}),(0,i.jsx)("span",{children:s.input||"-"})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"Output Count:"}),(0,i.jsx)("span",{children:s.output?s.output.length:0})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"History Count:"}),(0,i.jsx)("span",{children:s.history?s.history.length:0})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{children:"Awaiting Password:"}),(0,i.jsx)("span",{children:s.isAwaitingPassword?"Yes":"No"})]})]})})]})}):null},W=e=>{var t,n,l,o;let{terminal:c}=e,d=(0,r.wA)(),{activeTerminalId:m}=(0,r.d4)(e=>e.terminals),u=(0,s.useRef)(null),h=(0,s.useRef)(null),[p,f]=(0,s.useState)(!1),[g,x]=(0,s.useState)(!1),[j,y]=(0,s.useState)(c.content||""),[w,v]=(0,s.useState)(!!c.isMaximized),[N,b]=(0,s.useState)((null===(t=c.position)||void 0===t?void 0:t.x)||0),[k,I]=(0,s.useState)((null===(n=c.position)||void 0===n?void 0:n.y)||0),[C,E]=(0,s.useState)((null===(l=c.dimensions)||void 0===l?void 0:l.width)||600),[D,S]=(0,s.useState)((null===(o=c.dimensions)||void 0===o?void 0:o.height)||400),z=(0,s.useRef)(null),L=m===c.id,O=()=>{L&&(z.current=setTimeout(()=>f(!1),300))},A=(0,s.useCallback)(e=>{h.current&&!h.current.contains(e.target)&&x(!1)},[]);return(0,s.useEffect)(()=>(g?document.addEventListener("mousedown",A):document.removeEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}),[g,A]),(0,i.jsxs)("div",{ref:u,className:"terminal-button-container",onClick:e=>{e.stopPropagation(),f(!0),d((0,a.R0)(c.id)),d((0,a.Q3)(c.id))},onMouseEnter:()=>{L&&(z.current&&clearTimeout(z.current),f(!0))},onMouseLeave:O,children:[(0,i.jsx)("button",{className:"taskbar-button ".concat(L?"active":""),children:(0,i.jsx)("span",{role:"img","aria-label":"terminal",children:"\uD83D\uDCBB"})}),p&&L&&(0,i.jsxs)("ul",{className:"context-menu",style:{position:"absolute",bottom:"32px",left:"-8px",zIndex:1001},onMouseEnter:()=>{z.current&&clearTimeout(z.current)},onMouseLeave:O,children:[(0,i.jsx)("li",{onClick:e=>{e.stopPropagation(),x(!0),f(!1)},children:"Information"}),(0,i.jsx)("li",{onClick:e=>{e.stopPropagation(),d((0,a.NT)({terminalId:c.id,isMaximized:!c.isMaximized})),f(!1)},children:c.isMaximized?"Restore":"Maximize"}),(0,i.jsx)("li",{onClick:e=>{e.stopPropagation(),d((0,a.x2)(c.id)),f(!1)},children:"Minimize"}),(0,i.jsx)("li",{onClick:e=>{e.stopPropagation(),d((0,a.Zm)(c.id)),f(!1)},children:"Close"})]}),g&&P.createPortal((0,i.jsx)("div",{ref:h,children:(0,i.jsx)(F,{id:c.id,onClose:()=>x(!1)})}),document.body)]})},J=(0,s.forwardRef)((e,t)=>{let{onClose:n,setShowMenu:s}=e,l=(0,r.wA)(),o=e=>{let t=Date.now(),n="terminal-".concat(t,"-").concat(Math.random().toString(36).substr(2,9));l((0,a.Wk)({id:t,key:n,path:e})),l((0,a.SO)({terminalId:t,path:e})),s(!1)};return(0,i.jsx)("ul",{className:"start-menu",ref:t,style:{position:"absolute",bottom:"32px",left:"-8px",zIndex:1001},onMouseLeave:n,children:[{label:"New Terminal",path:"/"},{label:"About",path:"/about"},{label:"Skills",path:"/skills"},{label:"Projects",path:"/projects"},{label:"Contact",path:"/contact"}].map((e,t)=>(0,i.jsx)("li",{onClick:()=>o(e.path),className:"start-menu-item",children:e.label},t))})});J.displayName="StartMenu";let U=()=>{let[e,t]=(0,s.useState)(!1),n=(0,s.useRef)(null),l=(0,s.useRef)(null);(0,r.wA)();let o=e=>{l.current&&!l.current.contains(e.target)&&n.current&&!n.current.contains(e.target)&&t(!1)};return(0,s.useEffect)(()=>(e?window.addEventListener("click",o):window.removeEventListener("click",o),()=>{window.removeEventListener("click",o)}),[e]),(0,i.jsxs)("div",{className:"start-button-container",children:[(0,i.jsx)("button",{className:"start-button",onClick:()=>{t(e=>!e)},ref:n,children:(0,i.jsx)("span",{role:"img","aria-label":"start",children:"\uD83D\uDDA5️"})}),e&&(0,i.jsx)(J,{ref:l,setShowMenu:t,onClose:()=>t(!1)})]})},_=e=>{let{onClose:t}=e,[n,r]=(0,s.useState)(null),[l,o]=(0,s.useState)(null),a=(0,s.useRef)(null),c=(0,s.useRef)(null),d={help:{desc:"Display available commands",usage:"help"},ls:{desc:"List directory contents",usage:"ls [directory]"},cd:{desc:"Change directory",usage:"cd [directory]"},pwd:{desc:"Print working directory",usage:"pwd"},clear:{desc:"Clear terminal screen",usage:"clear"},cat:{desc:"Display file contents",usage:"cat [filename]"},whoami:{desc:"Display current user",usage:"whoami"},show:{desc:"Display file contents",usage:"show [filename]"}},m={touch:{desc:"Create empty file (admin only)",usage:"touch [filename]"},rm:{desc:"Remove file/directory (admin only)",usage:"rm [-r] [filename]"},mkdir:{desc:"Create directory (admin only)",usage:"mkdir [dirname]"},edit:{desc:"Edit file contents (admin only)",usage:"edit [filename]"},sudo:{desc:"Execute command with admin privileges",usage:"sudo [command]"},"sudo su":{desc:"Switch to admin user",usage:"sudo su [-]"},login:{desc:"Login as user",usage:"login [username] [password]"},logout:{desc:"Logout current user",usage:"logout"}},u=e=>{o(n),r(e),setTimeout(()=>{var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)};return(0,i.jsx)("div",{className:"help-guide",onClick:e=>{"help-guide"===e.target.className&&t()},children:(0,i.jsxs)("div",{className:"help-content",ref:c,children:[(0,i.jsx)("button",{className:"close-button",onClick:t,children:"\xd7"}),(0,i.jsx)("button",{className:"scroll-top-button",onClick:()=>{var e;null===(e=c.current)||void 0===e||e.scrollTo({top:0,behavior:"smooth"})},title:"Scroll to Top",children:"↑"}),l&&(0,i.jsx)("button",{className:"previous-command-button",onClick:()=>{l&&(r(l),o(null))},title:"Go to Previous Command",children:"←"}),(0,i.jsx)("h1",{children:"\uD83D\uDDA5️ Terminal Guide"}),(0,i.jsxs)("div",{className:"terminal-box",children:[(0,i.jsx)("div",{className:"terminal-header",children:(0,i.jsxs)("div",{className:"terminal-controls",children:[(0,i.jsx)("div",{className:"control-dot red"}),(0,i.jsx)("div",{className:"control-dot yellow"}),(0,i.jsx)("div",{className:"control-dot green"})]})}),(0,i.jsx)("p",{children:"Welcome to my interactive terminal portfolio! This terminal simulates a Linux-like environment where you can navigate through my projects and information using commands."})]}),(0,i.jsxs)("section",{className:"guide-section",children:[(0,i.jsx)("h2",{children:"\uD83D\uDCBB Basic Controls"}),(0,i.jsxs)("ul",{className:"tips-list",children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Window Movement"}),"Click and drag the terminal header to move the window"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Window Controls"}),"Click the minimize (-), maximize (□), or close (\xd7) buttons to control the window"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Command History"}),"Use Up/Down arrow keys to navigate through previous commands"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Window Resize"}),"Drag the window edges or corners to resize the terminal"]})]})]}),(0,i.jsxs)("section",{className:"guide-section",children:[(0,i.jsx)("h2",{children:"\uD83D\uDCA1 Good to Know"}),(0,i.jsxs)("ul",{className:"tips-list",children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Tab Completion:"})," Press Tab key while typing to auto-complete commands and file names"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Command Suggestions:"}),"When you tab complete a command, you can press Tab again to see available options"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"History Navigation:"})," Use Up/Down arrow keys to cycle through previously used commands"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Command Arguments:"})," Some commands accept additional arguments shown in square brackets [arg]"]})]})]}),(0,i.jsxs)("section",{className:"guide-section",children:[(0,i.jsx)("h2",{children:"\uD83D\uDCC1 Viewing Projects"}),(0,i.jsxs)("ul",{className:"tips-list",children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Using the edit command:"}),(0,i.jsx)("span",{children:"The edit command opens files in the current terminal for viewing or editing (if you have permissions. You can still use it with dummy admin at public folder.)"}),(0,i.jsxs)("div",{className:"command-item",children:[(0,i.jsxs)("code",{children:[(0,i.jsx)("span",{children:"//If it is not exist."}),"guest@peaZ-OS:/public$ touch project1.html"]}),(0,i.jsx)("span",{children:"//This will open an editor that edits project1.html."}),(0,i.jsx)("code",{children:"guest@peaZ-OS:/public$ edit project1.html"})]})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Using the show command:"}),(0,i.jsx)("span",{children:"The show command opens project files in a new terminal window, allowing you to view multiple projects simultaneously."}),(0,i.jsxs)("div",{className:"command-item",children:[(0,i.jsx)("span",{children:"//This will open project1.html in a new terminal window"}),(0,i.jsx)("code",{children:"guest@peaZ-OS:/public$ show project1.html"})]})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Example workflow:"}),(0,i.jsxs)("ol",{children:[(0,i.jsxs)("li",{children:["1. First navigate to the projects directory: ",(0,i.jsx)("code",{children:"cd /public"})]}),(0,i.jsxs)("li",{children:["2. List available projects: ",(0,i.jsx)("code",{children:"ls"})]}),(0,i.jsxs)("li",{children:["3. View a project: ",(0,i.jsx)("code",{children:"show project1.html"})," or ",(0,i.jsx)("code",{children:"edit project1.html"})]})]})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Key differences:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"- show: Opens in new window, better for viewing multiple projects. And see the projects, explore etc."}),(0,i.jsx)("li",{children:"- edit: Opens the file with a custom editor."}),(0,i.jsx)("li",{children:"- Both commands support all file types in the projects directory. But show commands will behave to render html files."})]})]})]}),(0,i.jsxs)("div",{className:"terminal-box",children:[(0,i.jsx)("div",{className:"terminal-header",children:(0,i.jsxs)("div",{className:"terminal-controls",children:[(0,i.jsx)("div",{className:"control-dot red"}),(0,i.jsx)("div",{className:"control-dot yellow"}),(0,i.jsx)("div",{className:"control-dot green"})]})}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Pro tip:"})," Use ",(0,i.jsx)("code",{children:"show"})," for exploring the projects and know about me, and use ",(0,i.jsx)("code",{children:"edit"})," If you want to give me an expression at the public folder with dummyadmin account."]})]})]}),(0,i.jsxs)("section",{className:"guide-section",children:[(0,i.jsx)("h2",{children:"\uD83D\uDD10 How to Login"}),(0,i.jsxs)("ul",{className:"tips-list",children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"login dummyadmin dummypass"}),(0,i.jsx)("span",{children:"Use this command to login with the admin credentials. You can only use commands at folder public."})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Example"}),(0,i.jsx)("span",{children:(0,i.jsxs)("div",{className:"command-item",onClick:()=>u("login"),children:[(0,i.jsx)("code",{children:"guest@peaZ-OS:/ login dummyadmin@dummy.com dummypass"}),(0,i.jsx)("code",{children:"Welcome dummyadmin. Logged in as dumymadmin."}),(0,i.jsx)("span",{})]},"login")})]})]})]}),(0,i.jsxs)("section",{className:"guide-section",children:[(0,i.jsx)("h2",{children:"\uD83D\uDEE0️ Available Commands"}),(0,i.jsx)("h3",{children:"Basic Commands"}),(0,i.jsx)("div",{className:"commands-grid",children:Object.entries(d).map(e=>{let[t,s]=e;return(0,i.jsxs)("div",{className:"command-item ".concat(n===t?"selected":""),onClick:()=>u(t),children:[(0,i.jsx)("code",{children:t}),(0,i.jsx)("span",{children:s.desc})]},t)})}),(0,i.jsx)("h3",{children:"\uD83D\uDD12 Admin & Authentication"}),(0,i.jsx)("div",{className:"commands-grid",children:Object.entries(m).map(e=>{let[t,s]=e;return(0,i.jsxs)("div",{className:"command-item ".concat(n===t?"selected":""),onClick:()=>u(t),children:[(0,i.jsx)("code",{children:t}),(0,i.jsx)("span",{children:s.desc})]},t)})}),n&&(0,i.jsxs)("div",{className:"command-details",ref:a,children:[(0,i.jsx)("h4",{children:"Command Usage:"}),(0,i.jsx)("code",{children:(d[n]||m[n]).usage})]})]})]})})},Z=()=>{let{terminals:e,activeTerminalId:t}=(0,r.d4)(e=>e.terminals),[n,l]=(0,s.useState)(!1);return(0,i.jsxs)("div",{className:"home-container",children:[(0,i.jsx)("h1",{children:"Welcome to My Portfolio"}),(0,i.jsx)("div",{className:"update-banner",children:(0,i.jsx)("p",{children:"Check out my latest updates and projects!"})}),(0,i.jsx)("p",{children:"Click on the terminal icon in the taskbar below to open a new terminal."}),(0,i.jsx)("p",{children:"For help with the terminal, click the help button below."}),(0,i.jsxs)("button",{className:"help-button",onClick:()=>l(!0),children:[(0,i.jsx)("span",{role:"img","aria-label":"help",children:"❔"})," Terminal Guide"]}),n&&(0,i.jsx)(_,{onClose:()=>l(!1)}),e.map(e=>(0,i.jsx)(M,{id:e.id},e.key||e.id)),(0,i.jsxs)("div",{className:"taskbar",children:[(0,i.jsx)(U,{}),e.map(e=>(0,i.jsx)(W,{terminal:e},e.id))]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[809,308,883,380,636,593,792],()=>t(7276)),_N_E=e.O()}]);